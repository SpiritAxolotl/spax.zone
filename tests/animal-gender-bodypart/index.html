<!DOCTYPE html>
<html>
<head>
  <title>Tumblr-to-Cohost Username Generator</title>
  <script src="./agbplist.js"></script>
  <link rel="stylesheet" href="./styles.css" type=text/css>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>
  <h1>Tumblr-to-Cohost Username Generator</h1>
  <button id="the-button" onclick="spin()"><div>Spin!</div></button>
  <div id="username"><span id="at">@</span><span id="animal"></span><span id="gender"></span><span id="part"></span></div>
  <div id="footer">
    inspired by <a href="https://cohost.org/bethposting/post/6065965-cohost-users-who-cam" target="_blank">this</a> chost
    <br>
    made by <a href="https://cohost.org/Spax" target="_blank">@Spax</a>
    <br>
    v1.2
  </div>
  <script>
    const button = document.querySelector(`#the-button`);
    const animalspan = document.querySelector(`#animal`);
    const genderspan = document.querySelector(`#gender`);
    const partspan = document.querySelector(`#part`);
    const atspan = document.querySelector(`#at`);
    const username = document.querySelector(`#username`);
    const sanitize = (arr) => {
      return Array.from(arr)
        //.filter(item => !item.match(/\s|\-/g))
        //.map(item => !item.match(/\s|\-/g))
        .map(item => item.toLowerCase().replaceAll(/[^\w]/g, ""));
    };
    const animals = sanitize(animalList);
    const genders = sanitize(genderList);
    const parts = sanitize([...partList, ...boneList]);
    const random = (arr) => {
      return arr[Math.floor(Math.random()*arr.length)];
    };
    let unhidden = false;
    const hideAndPos = () => {
      unhidden = true;
      username.style.visibility = "visible";
      const elements = [animalspan, genderspan, partspan, atspan];
      elements.forEach(e => {
        button.disabled = true;
        e.classList.add("slide");
        e.style.opacity = 1;
        setTimeout(() => {
          button.disabled = false;
        }, 1250);
      });
    }
    const spin = () => {
      if (!unhidden)
        hideAndPos();
      animalspan.innerText = random(animals);
      genderspan.innerText = random(genders);
      partspan.innerText = random(parts);
    };
  </script>
</body>
</html>