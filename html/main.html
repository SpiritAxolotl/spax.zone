<!DOCTYPE HTML>
<html>
    <head>
        <link rel="preload" href="https://calmbubbles.github.io/zerasGift/img/gift.png" as="image">
        
        <link rel="preload" href="/audio/spaxDay/bgm/Happy_Gigachad.mp3" as="audio">
        <link rel="preload" href="/audio/spaxDay/se/box_shake.mp3" as="audio">
        <link rel="preload" href="/audio/spaxDay/se/bomba.mp3" as="audio">
                
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="keywords" content="Spax, SpiritAxolotl, spiritaxolotl, spirit, axolotl, axolotls, youtube">
        <meta property="og:title" content="Spax's Site">
        <meta property="og:description" content="I make dumb shit and spend most of my time on the things that don't matter.">
        <meta property="og:type" content="website">
        <meta property="og:image" content="/images/faces/spax/Smirk.png" type="image/png">
        <link rel="icon" href="https://spiritaxolotl.github.io/images/icons/Smirk_Circle.png"></link>
        <!--phucking bootstrap-->
        <link rel="stylesheet" href="/css/bootstrap.min.css">
        <script src="/js/bootstrap.min.js"></script>
        <!---->
        <link rel="stylesheet" href="/css/styles.css" type=text/css>
        <link rel="canonical" href="https://spiritaxolotl.github.io/html/main"/>
        <title>Spax's Site</title>
    </head>
    <body>
        <div id="bg">
            <div class="text-box flex-container unselectable">
                <div>
                    <a href="/html/sitelist">Click here</a> to see my full site list!<br>
                    -Spax
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/claire/Neutral.png
                        "></img>
                    <span>Hey</span> nerds. It's me, Claire.
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/claire/Happy.png
                        "></img>
                    I am now on a poggers website. Woo!
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/claire/Sigh.png
                        "></img>
                    Anyways it's time for some fucking debugging.
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/aimottle/Unsure.png
                        "></img>
                    Spax, you don't know what you're doing at all, do you?
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/spax/Worried.png
                        "></img>
                    Well no... but-
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/spax/Worried.png
                        "></img>
                    ...
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/spax/Pensive.png
                        "></img>
                </div>
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/aimottle/Neutral.png
                        "></img>
                    HOLY SHIT <span>THEY ACTUALLY FIXED MOST OF THE CODE</span>
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/claire/Aghast.png
                        "></img>
                    How tf-
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/spax/Dizzy.png
                        "></img>
                    I have no clue how I did it I'm so tired now
                </div>
            </div>
            <div class="text-box flex-container unselectable">
                <div>
                        <img src="
                    /images/faces/yoki/Sweat_Drop.png
                        "></img>
                    (I still don't know where the <i>fuck</i> I am-)
                </div>
            </div>
        </div>
        
        <!--
        //this works; don't fucking touch it kiddo 
        <div class="text-box flex-container unselectable"  id="ominous-countdown"></div>
        </div>
        <script type="text/javascript">(function(){window['__CF$cv$params']={r:'6d98c0e03e54c7d5',m:'fYOcFE2KHU8Uamq_CEoNI9GgDqzzTxlgAY8aDwGqMMo-1644196382-0-AdtPtcTeuNBR9RU7N0f1bUSknvAZAZlqUbnsWRsrjxZ3iTvk5j4qWutdSePRK2YPyqC5PUy6SPea/L40oaDl6jvtNjhP7KNm2RByM9wtAspDORing5CA53EOj9d1JmRRi7qHucVUBHLxi4LBzr/iAu4fgwyHD5jNEfDSeP0nowWVBgDFJbFCkoTt6dFuA3CdYQ==',s:[0xeb660911f4,0x789e72129e],}})();</script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="jquery.countdown.min.js"></script>
        <script>
            $('#ominous-countdown')
            .countdown("2022/06/03", function(event) {
                $(this).text(
                    event.strftime('%D:%H:%M:%S')
                );
            });
        </script>-->
        <script src="/js/scrollparallax.js"></script>
        <script src="/js/Confetti.js"></script>
        <script src="https://calmbubbles.github.io/js-plugins/betterAudio.js"></script>
        
        <style>

#bg
{
    overflow-x : clip;
}

.yes.giftBox
{
    position : absolute;
    height : 20px;
    width : 20px;
    left : 30%;
}

.yes.giftBox div
{
    position : absolute;
    height : 20px;
    width : 20px;
    overflow : hidden;
}

.yes.giftBox img
{
    height : inherit;
}

.yes.giftBox div:nth-child(2)
{
    transform-origin : 0 0;
}

.yes.giftBox div:nth-child(2) img
{
    transform : translateX(-50%);
}

#AreaForConfetti
{
    position : fixed;
    z-index : 23;
    width : 100vw;
    height : 100vh;
    top : 0;
    pointer-events : none;
}

.yes.giftWrap
{
    position : absolute;
    z-index : 24;
    width : 100%;
}

.yes.giftWrap .giftImg
{
    display : flex;
    animation : drop 10s ease-in;
}

.yes.giftWrap .giftImg img
{
    height : 90%;
    width : 90%;
    margin : auto;
    pointer-events : all;
}

.yes.flashBang
{
    background : #e0f8cf;
    border : none;
    position : fixed;
    z-index : 420;
    width : 100vw;
    height : 100vh;
    top : 0;
    margin : 0;
    animation : flash 5s ease-out forwards;
}

.yes.gift
{
    position : relative;
    width : 100%;
    z-index : 22;
}

.yes.greeting
{
    position : absolute;
    top : 25%;
    text-align : center;
    width : 100%;
    overflow-wrap : break-word;
    z-index : 22;
}

.yes.greeting span
{
    display : inline-block;
    position : relative;
    text-align : center;
    white-space : pre-wrap;
}

.yes.giftBack
{
    position : fixed;
    width : 100%;
    height : 100%;
    z-index : 21;
    bottom : 0;
    left : 0;
}

@keyframes shake0
{
    0% { transform : translate(-1px, 2px) rotate(1deg); }
    25% { transform : translate(1px, 1px) rotate(-1deg); }
    50% { transform : translate(3px, -1px) rotate(-1deg); }
    70% { transform : translate(-2px, 4px) rotate(0deg); }
    100% { transform : translate(1px, -2px) rotate(-1deg); }
}

@keyframes shake1
{
    0% { transform : translate(-1px, 3px) rotate(0deg); }
    25% { transform : translate(2px, -1px) rotate(1deg); }
    50% { transform : translate(3px, -1px) rotate(1deg); }
    70% { transform : translate(-2px, 0px) rotate(0deg); }
    100% { transform : translate(0px, -1px) rotate(-1deg); }
}

@keyframes shake2
{
    0% { transform : translate(-1px, 2px) rotate(-2deg); }
    25% { transform : translate(-2px, -2px) rotate(-1deg); }
    50% { transform : translate(1px, 1px) rotate(0deg); }
    70% { transform : translate(2px, -1px) rotate(0deg); }
    100% { transform : translate(-1px, 2px) rotate(-1deg); }
}

@keyframes shake3
{
    0% { transform : translate(2px, 1px) rotate(-2deg); }
    25% { transform : translate(1px, 1px) rotate(-1deg); }
    50% { transform : translate(0px, -1px) rotate(2deg); }
    70% { transform : translate(-3px, 1px) rotate(0deg); }
    100% { transform : translate(1px, -2px) rotate(-1deg); }
}

@keyframes boxTop
{
    0% { transform : none; }
    25% { transform : translate(10px, -8px) rotate(15deg); }
    
    100%
    {
        transform : translate(20px, 20px) rotate(45deg);
        opacity : 0;
    }
}

@keyframes drop
{
    0%
    {
        transform : translate(100%, -1000%);
        box-shadow : -800px 4000px 100px rgba(0, 0, 0, 0);
    }
    
    95%
    {
        transform : translate(50%, -250%);
        box-shadow : -200px 1000px 25px rgba(0, 0, 0, 0.5);
    }
    
    100%
    {
        transform : translate(-2%, 4%);
        box-shadow : 0px 0px 0px rgba(0, 0, 0, 0.75);
    }
}

@keyframes flash
{
    0% { opacity : 0; }
    2% { opacity : 1; }
    80% { opacity : 1; }
    
    100%
    {
        opacity : 0;
        pointer-events : none;
    }
}

@keyframes wave0
{
    0% { transform : translate(0, 25%); }
    50% { transform : translate(0, -25%); }
    100% { transform : translate(0, 25%); }
}

@keyframes wave1
{
    0% { transform : none; }
    25% { transform : translate(0, 25%); }
    75% { transform : translate(0, -25%); }
    100% { transform : none; }
}

@keyframes wave2
{
    0% { transform : translate(0, -25%); }
    50% { transform : translate(0, 25%); }
    100% { transform : translate(0, -25%); }
}

        </style>
        <script>

class yes {
    static #loaded = false;
    static #bg = null;
    static #textBoxes = null;
    static #imgGiftBox = null;
    static #gift = null;
    static #giftBack = null;
    static #faces = null;
    static #giftBox = null;
    static #giftBoxTop = null;
    static #giftBoxBottom = null;
    static #boxOpened = false;
    static #boxChecked = false;
    static #gottenGift = false;
    static #audios = null;
    static #dropBox = null;
    static #shouldShakeDrop = false;
    static #shakingDrop = false;
    static #boxStartOpen = false;
    
    static #requestUpdate ()
    {
        requestAnimationFrame(this.#update.bind(this));
    }
    
    static #update ()
    {
        if (canvas != null)
        {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
            
        if (!this.#boxOpened)
        {
            const width = document.documentElement.clientWidth;
            const height = document.documentElement.clientHeight;
            
            let effector = 0;
            
            if (width > height) effector = width;
            else effector = height;
            
            this.#giftBox.style.top = `${document.documentElement.scrollTop / 2 + effector}px`;
        }
        else if (!this.#gottenGift && document.documentElement.scrollTop == 0) this.#getGift();
        else if (this.#shouldShakeDrop) this.#shakeDrop();
        
        this.#requestUpdate();
    }
    
    static #explodeConfetti ()
    {
        const canvas = document.createElement("canvas");
        
        canvas.id = "AreaForConfetti";
        
        this.#bg.append(canvas);
        
        particleSettings.posY = canvas.height - canvas.height / 4;
        
        this.#audios[2].playOneShot();
        
        runConfetti();
    }
    
    static async #image (src)
    {
        const img = await fetch(src);
        const blob = await img.blob();
        
        return await URL.createObjectURL(blob);
    }
    
    static async #shakeBox ()
    {
        this.#audios[4].playOneShot();
        
        this.#giftBox.style.animation = `shake${parseInt(Math.random() / 0.25)} 0.125s`;
        
        await new Promise(resolve => setTimeout(resolve, 125));
        
        this.#giftBox.style.animation = "none";
    }
    
    static async #openBox ()
    {
        if (this.#boxStartOpen) return;
        
        this.#boxStartOpen = true;
        
        this.#audios[1].play();
        
        this.#giftBoxTop.style.animation = "boxTop 0.25s";
        
        await new Promise(resolve => setTimeout(resolve, 125));
        
        this.#giftBoxTop.style.opacity = "0";
        
        this.#giftBox.style.zIndex = "20";
        this.#giftBox.style.left = "0";
        
        this.#giftBoxBottom.style.width = "100vw";
        this.#giftBoxBottom.style.height = "100vw";
        
        this.#giftBox.style.transition = "all 0.25s";
        this.#giftBoxBottom.style.transition = "all 0.25s";
        
        this.#explodeConfetti();
        
        await new Promise(resolve => setTimeout(resolve, 125));
        
        this.#giftBox.style.transition = "none;"
        this.#giftBoxBottom.style.transition = "none";
        
        this.#bg.style.minHeight = `${document.documentElement.scrollHeight}px`;
        this.#bg.style.transition = "min-height 0.125s"
        
        await new Promise(resolve => setTimeout(resolve, 125));
        
        this.#bg.style.transition = "none";
        
        this.#boxOpened = true;
    }
    
    static async #checkBox ()
    {
        this.#boxChecked = true;
        
        window.scroll({
            top : 0,
            behavior : "smooth"
        });
    }
    
    static async #getGift ()
    {
        this.#gottenGift = true;
        
        const wrap = document.createElement("div");
        
        wrap.classList.add("yes", "giftWrap");
        
        const imageWrap = document.createElement("div");
        this.#dropBox = document.createElement("img");
        
        this.#dropBox.src = this.#imgGiftBox;
        
        imageWrap.classList.add("giftImg", "text-box");
        
        imageWrap.append(this.#dropBox);
        
        wrap.append(imageWrap);
        
        this.#bg.prepend(wrap);
        
        await new Promise(resolve => setTimeout(resolve, 5000));
        
        this.#audios[3].playOneShot();
        
        await new Promise(resolve => setTimeout(resolve, 3000));
        
        this.#textBoxes[1].querySelector("img").src = this.#faces[0];
        this.#textBoxes[1].querySelector("span").textContent = "Bye";
        
        await new Promise(resolve => setTimeout(resolve, 2000));
        
        imageWrap.style.transform = `translate(-2%, 4%) rotate(${Math.random() * (45 - -45) + -45}deg)`;
        
        this.#bg.style.animation = `shake${parseInt(Math.random() / 0.25)} 0.125s`;
        
        for (let i = 0; i < this.#textBoxes.length; i++)
        {
            const currentBox = this.#textBoxes[i];
            
            currentBox.style.transform = `translate(${Math.random() * (50 - -50) + -50}%, ${Math.random() * (50 - -50) + -50}%) rotate(${Math.random() * (45 - -45) + -45}deg)`;
            
            switch (i)
            {
                case 8:
                    currentBox.querySelector("span").textContent = "I ALMOST DIED";
                    break;
                case 11:
                    currentBox.querySelector("img").src = this.#faces[1];
                    break;
            }
        }
        
        this.#bg.style.minHeight = `${document.documentElement.scrollHeight}px`;
        
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        this.#shouldShakeDrop = true;
        
        this.#dropBox.onclick = async () => {
            this.#dropBox.onclick = () => { };
            
            this.#shouldShakeDrop = false;
            
            const flashBang = document.createElement("hr");
            
            flashBang.classList.add("yes", "flashBang");
        
            document.body.append(flashBang);
            
            this.#audios[6].play();
            
            await new Promise(resolve => setTimeout(resolve, 100));
            
            this.#audios[6].volume = 0.05;
            
            for (let i = 0; i < this.#textBoxes.length; i++) this.#textBoxes[i].remove();
            
            this.#bg.style.minHeight = "100%";
            
            this.#giftBox.remove();
            
            wrap.remove();
            
            this.#bg.style.background = "none";
            
            this.#showGift();
        };
    }
    
    static async #shakeDrop ()
    {
        if (this.#shakingDrop) return;
        
        this.#shakingDrop = true;
        
        this.#audios[5].playOneShot();
        
        this.#dropBox.style.animation = `shake${parseInt(Math.random() / 0.25)} 0.125s`;
        
        await new Promise(resolve => setTimeout(resolve, Math.random() * (3000 - 1000) + 1000));
        
        this.#dropBox.style.animation = "none";
        
        this.#shakingDrop = false;
    }
    
    static async #showGift ()
    {
        particleSettings.posY = -canvas.height;
        particleSettings.punch = 0;
        particleSettings.deleteAfter = false;
        
        const gift = document.createElement("img");
        
        gift.src = this.#gift;
        
        gift.classList.add("yes", "gift");
        
        const greeting = document.createElement("div");
        
        greeting.classList.add("yes", "greeting");
        
        const waveText = "Happy Birthday SpiritAxolotl!";
        let waveIndex = 0;
        let waveDir = 0;
        
        for (let i = 0; i < waveText.length; i++)
        {
            const newChar = document.createElement("span");
            
            newChar.style.animation = `wave${waveIndex} 0.5s linear infinite`;
            
            if (waveIndex > 1) waveDir = 1;
            else if (waveIndex < 1) waveDir = 0
            
            switch (waveDir)
            {
                case 0:
                    waveIndex++;
                    break;
                case 1:
                    waveIndex--;
                    break;
            }
            
            newChar.append(waveText[i]);
            greeting.append(newChar);
        }
        
        const giftBack = document.createElement("img");
        
        giftBack.src = this.#giftBack;
                     
        giftBack.classList.add("yes", "giftBack");
        
        this.#bg.append(gift, greeting, giftBack);
        
        await new Promise(resolve => setTimeout(resolve, 3570));
        
        this.#audios[6].volume = 0.02;
        
        await new Promise(resolve => setTimeout(resolve, 250));
        
        this.#audios[0].play();
    }
    
    static async init ()
    {
        if (this.#loaded) return;
        
        this.#loaded = true;
        
        this.#bg = document.querySelector("#bg");
        
        this.#textBoxes = this.#bg.querySelectorAll(".text-box");
        
        const imgGiftBox = await this.#image("https://calmbubbles.github.io/zerasGift/img/gift.png");
        this.#imgGiftBox = await this.#image("https://calmbubbles.github.io/zerasGift/img/giftBox.png");
        
        this.#gift = await this.#image("/images/fanart/nahua_gigachad.png");
        this.#giftBack = await this.#image("/images/fanart/nahua_gigachad_back.png");
        
        this.#faces = [
            await this.#image("/images/faces/claire/Aghast.png"),
            await this.#image("/images/faces/yoki/Dizzy.png")
        ];
        
        this.#audios = [
            new betterAudio("/audio/spaxDay/bgm/Happy_Gigachad.mp3"),
            new betterAudio("/audio/spaxDay/se/box_open.mp3"),
            new betterAudio("/audio/spaxDay/se/partyhorn.mp3"),
            new betterAudio("/audio/spaxDay/se/bomba.mp3"),
            new betterAudio("/audio/spaxDay/se/box_shake.mp3"),
            new betterAudio("/audio/spaxDay/se/drop_shake.m4a"),
            new betterAudio("/audio/spaxDay/se/flash.mp3")
        ];
        
        this.#audios[0].loop = true;
        
        this.#audios[1].volume = 2;
        this.#audios[1].seekable.start = 0.3;
        
        this.#audios[2].volume = 0.25;
        
        this.#audios[3].volume = 0.2;
        
        this.#audios[6].seekable.end = 3.5;
        this.#audios[6].volume = 0.02;
        
        this.#giftBox = document.createElement("div");
        this.#giftBoxTop = document.createElement("div");
        this.#giftBoxBottom = document.createElement("div");
        
        const giftBoxTopImg = document.createElement("img");
        const giftBoxBottomImg = document.createElement("img");
        
        giftBoxTopImg.src = imgGiftBox;
        giftBoxBottomImg.src = imgGiftBox
        
        this.#giftBox.style.top = `${window.innerHeight / 1 + window.scrollY / 2}px`;
        
        this.#giftBox.classList.add("yes", "giftBox");
        
        this.#giftBoxTop.append(giftBoxTopImg);
        this.#giftBoxBottom.append(giftBoxBottomImg);
        
        this.#giftBox.append(this.#giftBoxBottom, this.#giftBoxTop);
        this.#bg.prepend(this.#giftBox);
        
        let boxClicked = 0;
        
        this.#giftBox.onclick = async () => {
            if (this.#boxOpened && !this.#boxChecked) return this.#checkBox();
            
            if (boxClicked > 4) return;
            else if (boxClicked == 4) return this.#openBox();
            
            await this.#shakeBox();
            
            boxClicked++;
        };
        
        this.#requestUpdate();
    }
}

window.addEventListener("load", () => { yes.init(); });

        </script>
        
    </body>
</html>
